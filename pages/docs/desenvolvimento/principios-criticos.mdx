# Princípios Críticos de Desenvolvimento

Esta seção contém as regras mais importantes que **devem** ser seguidas para garantir a estabilidade e a consistência do DEX BLOG.

## Regra #1: Como Acessar Parâmetros de Rota e de Busca

**Contexto:** O DEX BLOG utiliza Next.js 15+. Nesta versão, a forma como acessamos parâmetros dinâmicos da URL (como `slug`) e parâmetros de busca (como `?page=1`) mudou fundamentalmente para otimizar o carregamento de dados.

**O Erro Comum:** Tentar acessar as propriedades de `params` ou `searchParams` diretamente, como `params.slug`, causará o erro `params should be awaited before using its properties`.

### A Forma Correta

A solução é tratar os objetos `params` e `searchParams` como se fossem `Promises`. Você deve usar `await` para resolvê-los **antes** de tentar acessar qualquer uma de suas propriedades.

#### Exemplo para Páginas de Post (`/posts/[slug]`):

```tsx filename="src/app/posts/[slug]/page.tsx"
export default async function PostPage({ params }: { params: { slug: string } }) {
  // INCORRETO ❌
  // const post = getPostBySlug(params.slug); 

  // CORRETO ✅
  const { slug } = await params;
  const post = getPostBySlug(slug);

  // ... resto do seu código
}
```

#### Exemplo para Páginas de Categoria com Paginação (`/categories/[slug]?page=2`):

```tsx filename="src/app/categories/[slug]/page.tsx"
export default async function CategoryPage({ 
  params,
  searchParams 
}: {
  params: { slug: string }, 
  searchParams: { page?: string } 
}) {
  // CORRETO ✅
  const { slug } = await params;
  const { page } = await searchParams;

  const pageNumber = page ? parseInt(page) : 1;
  const posts = getPosts({ page: pageNumber, categorySlug: slug });

  // ... resto do seu código
}
```

**Resumo:** Sempre use `await` em `params` e `searchParams` antes de desestruturar ou acessar suas propriedades. Esta é a regra mais importante a ser lembrada ao trabalhar com rotas dinâmicas no projeto.
